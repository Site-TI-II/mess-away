# MessAway Azure Environment Configuration
# Copy this file to .env and update with your actual values

# ================================
# AZURE POSTGRESQL CONFIGURATION
# ================================

# Azure PostgreSQL Flexible Server details
AZURE_POSTGRES_SERVER=messaway-postgres-server.postgres.database.azure.com
AZURE_POSTGRES_DB=messaway_db
AZURE_POSTGRES_USER=messawayadmin
AZURE_POSTGRES_PASSWORD=YourSecurePassword123!
AZURE_POSTGRES_PORT=5432
AZURE_POSTGRES_SSL=true

# Alternative: Use connection string format
# AZURE_POSTGRES_CONNECTION_STRING=postgresql://messawayadmin:YourPassword@messaway-postgres-server.postgres.database.azure.com:5432/messaway_db?sslmode=require

# ================================
# APPLICATION SETTINGS
# ================================

# Environment (development, staging, production)
APP_ENV=development
APP_NAME=MessAway
APP_VERSION=2.0.0

# Server configuration
SERVER_PORT=4567
SERVER_HOST=0.0.0.0

# Logging
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/messaway/app.log

# ================================
# AI INTEGRATION (CLAUDE)
# ================================

# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
AI_MODEL=claude-sonnet-4-20250514
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7

# AI Feature toggles
AI_ENABLED=true
AI_CASA_INSIGHTS=true
AI_TASK_SUGGESTIONS=true

# ================================
# AZURE SERVICES (Optional)
# ================================

# Azure Storage Account (for file uploads)
AZURE_STORAGE_ACCOUNT=messawaystorage
AZURE_STORAGE_KEY=your-storage-key-here
AZURE_STORAGE_CONTAINER=uploads

# Azure Key Vault (for secrets management)
AZURE_KEY_VAULT_NAME=messaway-keyvault
AZURE_KEY_VAULT_CLIENT_ID=your-client-id
AZURE_KEY_VAULT_CLIENT_SECRET=your-client-secret
AZURE_KEY_VAULT_TENANT_ID=your-tenant-id

# Azure Application Insights (for monitoring)
APPINSIGHTS_INSTRUMENTATIONKEY=your-instrumentation-key
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/

# ================================
# SECURITY SETTINGS
# ================================

# JWT Configuration
JWT_SECRET=your-256-bit-secret-key-here-make-it-very-long-and-random
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_HOURS=168

# CORS settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# ================================
# EMAIL CONFIGURATION (Optional)
# ================================

# SMTP settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME=MessAway System
SMTP_FROM_EMAIL=noreply@yourdomain.com

# ================================
# FEATURE FLAGS
# ================================

# Enable/disable features
FEATURE_ACHIEVEMENTS=true
FEATURE_EXPENSE_TRACKING=true
FEATURE_AI_INSIGHTS=true
FEATURE_NOTIFICATIONS=true
FEATURE_FILE_UPLOADS=true

# ================================
# PERFORMANCE SETTINGS
# ================================

# Database connection settings (if using connection pooling)
DB_POOL_MAX_SIZE=20
DB_POOL_MIN_SIZE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# Cache settings
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE=1000

# ================================
# MONITORING & DEBUGGING
# ================================

# Debug settings
DEBUG_MODE=false
DEBUG_SQL_QUERIES=false
DEBUG_API_REQUESTS=false

# Health check settings
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=5

# Metrics collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_INCLUDE_JVM=true

# ================================
# BACKUP & MAINTENANCE
# ================================

# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * * # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ================================
# DEVELOPMENT SETTINGS
# ================================

# Development-only settings (remove in production)
DEV_AUTO_MIGRATE=true
DEV_SEED_DATA=false
DEV_RESET_DB=false
DEV_MOCK_EXTERNAL_APIS=false

# ================================
# AZURE DEPLOYMENT SETTINGS
# ================================

# Azure App Service settings (set automatically by Azure)
# WEBSITE_HOSTNAME=messaway-app.azurewebsites.net
# WEBSITE_SITE_NAME=messaway-app
# WEBSITE_RESOURCE_GROUP=messaway-rg

# Azure-specific optimizations
AZURE_OPTIMIZE_CONNECTIONS=true
AZURE_USE_MANAGED_IDENTITY=false
AZURE_REGION=eastus